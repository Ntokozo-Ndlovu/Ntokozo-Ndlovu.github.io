import{s as K,w as X,y as Z}from"./chunk-IAVQIH7J.js";import{Da as N,Fa as $,Ha as k,Ia as G,La as T,Pa as R,Q as y,Qa as I,R as E,Ra as A,S as z,Sa as H,W as S,ia as F,ma as _,qb as v,wb as V}from"./chunk-X56B3JMM.js";import{Fb as n,Gb as e,Hb as l,Nb as d,Pb as q,Pc as J,Qc as Q,Ra as b,Sc as W,Tc as Y,Xb as o,Yb as U,a as O,b as P,bb as m,cb as g,ec as D,fc as j,ga as c,na as M,ub as w,v as B,wb as p,ya as u,za as x}from"./chunk-5HY62M3S.js";var ee=(()=>{let t=class t{constructor(i,a,s){this.formBuilder=i,this.store=a,this.router=s,this.selectedOrganisationName="",this.destroy$=new b,this.registrationForm=this.formBuilder.group({firstname:[],lastname:[],email:[],reEnterEmail:[],officeNumber:[],organisationType:[],organisationName:[],organisationId:[],title:[],department:[],city:[],province:[]})}ngOnInit(){this.store.dispatch(v.fromActions.reqOrganisationTypes()),this.store.select(v.fromSelectors.organisationTypes).pipe(c(this.destroy$)).subscribe(i=>{this.organisationTypes=i}),this.store.select(v.fromSelectors.organisationNames).pipe(c(this.destroy$)).subscribe(i=>{this.organisationNames=i}),this.store.dispatch(V.fromActions.reqProvinceNames()),this.store.select(V.fromSelectors.provinceNames).pipe(c(this.destroy$)).subscribe(i=>{this.provinces=i}),this.store.select(_.registrationSuccessful).pipe(c(this.destroy$)).subscribe(i=>{i&&this.router.navigate(["home"])})}handleSubmittedRegistrationForm(){this.store.dispatch(F.reqRegisterUser({userRegistration:this.registrationForm.value}))}handleProvinceSelection(i){let a=this.registrationForm.value;this.registrationForm.setValue(P(O({},a),{province:i.name}))}handleOrganisationTypeSelection(i){this.store.dispatch(v.fromActions.reqOrganisationNames({organisationType:i.id}));let a=this.registrationForm.value;this.registrationForm.setValue(P(O({},a),{organisationType:i.name}))}handleOrganisationNameSelection(i){let a=this.registrationForm.value;this.registrationForm.setValue(P(O({},a),{organisationName:i.name,organisationId:i.id}))}ngOnDestroy(){this.destroy$.emit()}};t.\u0275fac=function(a){return new(a||t)(g(A),g(S),g(y))},t.\u0275cmp=u({type:t,selectors:[["app-registration"]],decls:67,vars:7,consts:[[1,"registration-page"],[1,"inner"],[1,"row"],["src","../../../../assets/GreenCape-G.png","alt","GreenCape"],[1,"col-12","link-right"],["routerLink","/auth/login","href","","title","Login",1,"login-link"],[3,"submit","formGroup"],[1,"col-12","col-lg-6"],["formControlName","firstname"],["formControlName","lastname"],["formControlName","email"],["formControlName","reEnterEmail"],["formControlName","officeNumber"],["formControlName","title"],[1,"col-12"],["formControlName","department"],["formControlName","city"],[1,"dropdown-button",3,"selection","dropDownListItems","initialTitle"],[3,"selection","dropDownListItems","initialTitle"],[1,"row","submit-button"],["type","submit",1,"btn","btn-primary"]],template:function(a,s){a&1&&(n(0,"section",0)(1,"div",1)(2,"div",2),l(3,"img",3),e(),n(4,"h1"),o(5,"New Account Registration"),e(),n(6,"div",2)(7,"div",4)(8,"p"),o(9,"Already have an account? "),n(10,"a",5),o(11,"Login"),e()()()(),n(12,"form",6),d("submit",function(){return s.handleSubmittedRegistrationForm()}),n(13,"div",2)(14,"div",7)(15,"label"),o(16,"First Name"),e(),l(17,"input",8),e(),n(18,"div",7)(19,"label"),o(20,"Last Name"),e(),l(21,"input",9),e()(),n(22,"div",2)(23,"div",7)(24,"label"),o(25,"E-mail"),e(),l(26,"input",10),e(),n(27,"div",7)(28,"label"),o(29,"Re-enter Email"),e(),l(30,"input",11),e()(),n(31,"div",2)(32,"div",7)(33,"label"),o(34,"Office Number"),e(),l(35,"input",12),e(),n(36,"div",7)(37,"label"),o(38,"Role/Title"),e(),l(39,"input",13),e()(),n(40,"div",2)(41,"div",14)(42,"label"),o(43,"Department"),e(),l(44,"input",15),e()(),n(45,"div",2)(46,"div",7)(47,"label"),o(48,"City"),e(),l(49,"input",16),e(),n(50,"div",7)(51,"label"),o(52,"Province"),e(),n(53,"app-drop-down-list",17),d("selection",function(C){return s.handleProvinceSelection(C)}),e()()(),n(54,"div",2)(55,"div",7)(56,"label"),o(57,"Organisation Name"),e(),n(58,"app-drop-down-list",18),d("selection",function(C){return s.handleOrganisationNameSelection(C)}),e()()(),n(59,"div",7)(60,"label"),o(61,"Organisation Type"),e(),n(62,"app-drop-down-list",18),d("selection",function(C){return s.handleOrganisationTypeSelection(C)}),e()(),n(63,"div",19)(64,"div",14)(65,"button",20),o(66,"Register"),e()()()()()()),a&2&&(m(12),p("formGroup",s.registrationForm),m(41),p("dropDownListItems",s.provinces)("initialTitle","Select Province"),m(5),p("dropDownListItems",s.organisationNames)("initialTitle","Select Organisation Name"),m(4),p("dropDownListItems",s.organisationTypes)("initialTitle","Select Organisation Type"))},dependencies:[E,T,N,k,G,R,I,K],styles:['.registration-page[_ngcontent-%COMP%]{background-image:url(/assets/Images/sector-renewable-energy.png);padding:25px;min-height:100vh;display:flex;align-items:center;justify-content:center;flex-direction:column;position:relative;z-index:2}.registration-page[_ngcontent-%COMP%]:before{content:"";z-index:-1;position:absolute;inset:0;display:block;background:url("./media/Green-Finance-Option-1-.jpg-CG5JA5RM.jpg");background-size:cover;background-position:center;opacity:20%}.registration-page[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]{max-width:900px;width:100%;margin:0 auto;background-color:#fff;padding:48px 48px 23px;box-shadow:0 0 10px #0000 0 0 0 0,#0000 0 0,#0000001a 0 1px 3px,#0000001a 0 1px 2px -1px;border-radius:16px}.registration-page[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:800;font-size:30px}.registration-page[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.registration-page[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin:40px 0 0}.registration-page[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin-bottom:25px}.registration-page[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;margin-bottom:10px}.registration-page[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:var(--greencape-text);font-size:14px;font-weight:500}.registration-page[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .login-link[_ngcontent-%COMP%]{display:inline-block;color:var(--greencape-main);text-decoration:none}.registration-page[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .login-link[_ngcontent-%COMP%]:hover{color:#eb6851}.registration-page[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%] > div.link-right[_ngcontent-%COMP%]{display:block;font-size:16px}.registration-page[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:200px;margin:-100px 10px 10px;background-image:url(/assets/logo/Green-Cape-_-Primary-logo_Reversed-_-white-01.svg);background-repeat:no-repeat;padding:50px;border-radius:10px}.dropdown-button[_ngcontent-%COMP%]   .dropdown-list-container[_ngcontent-%COMP%], .dropdown-button[_ngcontent-%COMP%]   .dropdown-list-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}.submit-button[_ngcontent-%COMP%]{margin-top:40px}']});let r=t;return r})();function le(r,t){if(r&1&&(n(0,"p"),o(1),e()),r&2){let f=t.$implicit;m(),U(f)}}function me(r,t){r&1&&(n(0,"p"),o(1,"Enter a valid email address"),e())}function pe(r,t){r&1&&(n(0,"p"),o(1,"Password is required"),e())}function ge(r,t){if(r&1&&(n(0,"div",15),w(1,le,2,1,"p",16),D(2,"async"),w(3,me,2,0,"p",17)(4,pe,2,0,"p",17),e()),r&2){let f=q();m(),p("ngForOf",j(2,3,f.loginError$)),m(2),p("ngIf",f.f.email.errors),m(),p("ngIf",f.f.password.errors)}}var te=(()=>{let t=class t{constructor(i,a,s){this.formBuilder=i,this.store=a,this.router=s,this.loginFormSubmitted=!1,this.destroy$=new b,this.loginFormGroup=this.formBuilder.group({email:["",$.email],password:["",$.required]})}ngOnInit(){this.loginError$=this.store.select(_.loginErrorSelector),this.loginErrorsFlag$=this.loginError$.pipe(B(i=>i.length>0))}get f(){return this.loginFormGroup.controls}login(){if(this.loginFormSubmitted=!0,this.loginFormGroup.valid)this.store.dispatch(F.reqLogin({username:this.loginFormGroup.value.email,password:this.loginFormGroup.value.password})),this.store.select(_.isUserAuthenticated).pipe(c(this.destroy$)).subscribe(i=>{i&&this.router.navigate(["home"])});else return}ngOnDestroy(){this.destroy$.emit()}};t.\u0275fac=function(a){return new(a||t)(g(A),g(S),g(y))},t.\u0275cmp=u({type:t,selectors:[["app-login"]],decls:39,vars:4,consts:[[1,"login-page"],[1,"logo-container"],[1,"logo"],[1,"inner"],[3,"submit","formGroup"],[1,"row"],["src","../../../../assets/GreenCape-G.png","alt","GreenCape"],[1,"col-12"],["routerLink","/auth/registration","title","Register",1,"register-link"],["class","alert alert-danger","role","alert",4,"ngIf"],[1,"inputs"],["formControlName","email"],["formControlName","password","type","password"],["routerLink","/auth/passwordreset","title","Forgot Password",1,"fp-link"],[1,"btn","btn-primary"],["role","alert",1,"alert","alert-danger"],[4,"ngFor","ngForOf"],[4,"ngIf"]],template:function(a,s){a&1&&(n(0,"section",0)(1,"div",1),l(2,"div",2),e(),n(3,"div",3)(4,"form",4),d("submit",function(){return s.login()}),n(5,"div",5),l(6,"img",6),e(),n(7,"div",5)(8,"div",7)(9,"h1"),o(10,"Account Login"),e()(),n(11,"div",7)(12,"p"),o(13,"Already have an account? "),n(14,"a",8),o(15,"Register"),e()()()(),w(16,ge,5,5,"div",9),D(17,"async"),n(18,"div",10)(19,"div",5)(20,"div",7)(21,"label"),o(22,"E-mail Address"),e()(),n(23,"div",7),l(24,"input",11),e()(),n(25,"div",5)(26,"div",7)(27,"label"),o(28,"Password"),e()(),n(29,"div",7),l(30,"input",12),e()(),n(31,"div",5)(32,"div",7)(33,"a",13),o(34,"Forgot password?"),e()()()(),n(35,"div",5)(36,"div",7)(37,"button",14),o(38,"Log in"),e()()()()()()),a&2&&(m(4),p("formGroup",s.loginFormGroup),m(12),p("ngIf",s.loginFormGroup.invalid&&s.loginFormSubmitted||j(17,2,s.loginErrorsFlag$)))},dependencies:[E,T,N,k,G,R,I,J,Q,W],styles:['.login-page[_ngcontent-%COMP%]{padding:25px;min-height:100vh;display:flex;align-items:center;justify-content:center;flex-direction:column;position:relative;z-index:2}.login-page[_ngcontent-%COMP%]:before{content:"";z-index:-1;position:absolute;inset:0;display:block;background:url("./media/GreenCape-Cover-scaled.jpg-WP5AQ3YF.jpg");background-size:cover;background-position:center;opacity:20%}.login-page[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]{margin-top:40px;margin-bottom:50px}.login-page[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin-bottom:20px!important}.login-page[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]{max-width:420px;width:100%;margin:0 auto;background-color:#fff;padding:48px 48px 23px;box-shadow:0 0 10px #0000 0 0 0 0,#0000 0 0,#0000001a 0 1px 3px,#0000001a 0 1px 2px -1px;border-radius:16px}.login-page[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;margin-bottom:10px}.login-page[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:800;font-size:30px}.login-page[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.login-page[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}.login-page[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin-bottom:25px}.login-page[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:var(--greencape-text);font-size:14px;font-weight:500}.login-page[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .fp-link[_ngcontent-%COMP%]{display:block;color:var(--greencape-main);text-decoration:none;font-size:14px}.login-page[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .fp-link[_ngcontent-%COMP%]:hover{color:#eb6851}.login-page[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .register-link[_ngcontent-%COMP%]{display:inline-block;color:var(--greencape-main);text-decoration:none}.login-page[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .register-link[_ngcontent-%COMP%]:hover{color:#eb6851}']});let r=t;return r})();var ne=(()=>{let t=class t{};t.\u0275fac=function(a){return new(a||t)},t.\u0275cmp=u({type:t,selectors:[["app-password-reset"]],decls:6,vars:0,consts:[[1,"div"]],template:function(a,s){a&1&&(n(0,"section")(1,"div",0)(2,"h1"),o(3,"Password Reset"),e(),n(4,"p"),o(5,"An email has been sent with password reset information E-mail Address. Please check your email."),e()()())},styles:['section[_ngcontent-%COMP%]{background-image:url(/assets/Images/sector-renewable-energy.png);padding:25px;min-height:100vh;display:flex;align-items:center;justify-content:center;flex-direction:column;position:relative;z-index:2}section[_ngcontent-%COMP%]:before{content:"";z-index:-1;position:absolute;inset:0;display:block;background:url("./media/Green-Finance-Option-1-.jpg-CG5JA5RM.jpg");background-size:cover;background-position:center;opacity:20%}section[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{max-width:700px;width:100%;margin:0 auto;background-color:#fff;padding:48px 48px 23px;box-shadow:0 0 10px #0000 0 0 0 0,#0000 0 0,#0000001a 0 1px 3px,#0000001a 0 1px 2px -1px;border-radius:16px}section[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:800;font-size:30px;margin-bottom:24px}section[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}section[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin:40px 0 0}section[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin-bottom:25px}section[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;margin-bottom:10px}']});let r=t;return r})();var ce=[{path:"registration",component:ee},{path:"login",component:te,canActivate:[X]},{path:"passwordreset",component:ne}],ie=(()=>{let t=class t{};t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=x({type:t}),t.\u0275inj=M({imports:[z.forChild(ce),z]});let r=t;return r})();var Be=(()=>{let t=class t{};t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=x({type:t}),t.\u0275inj=M({imports:[ie,H,Z,Y]});let r=t;return r})();export{Be as AuthenticationModule};
